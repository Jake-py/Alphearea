# üîí –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ CSP –∏ 404 –æ—à–∏–±–æ–∫ –¥–ª—è GitHub Pages

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. Content Security Policy (CSP)
**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ö–æ–Ω—Ñ–ª–∏–∫—Ç merge –≤ index.html (—Å–ª–∏—è–Ω–∏–µ –¥–≤—É—Ö –≤–µ—Ä—Å–∏–π CSP)
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å CSP (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤, –Ω–µ–ø–æ–ª–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã)
- ‚ùå require-trusted-types-for 'script' –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –Ω–∞ GitHub Pages
- ‚ùå –°–ª–∏—à–∫–æ–º –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–∏–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã (font-src –±–µ–∑ https:)

**–†–µ—à–µ–Ω–∏–µ:**
‚úÖ –£–¥–∞–ª–µ–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç merge
‚úÖ –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ CSP –ø–æ–ª–∏—Ç–∏–∫–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º
‚úÖ –£–¥–∞–ª–µ–Ω–∞ –æ–ø–∞—Å–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ require-trusted-types-for
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è GitHub Pages –∏ API

**–ù–æ–≤–∞—è CSP –ø–æ–ª–∏—Ç–∏–∫–∞:**
```
default-src 'self';
script-src 'self';
style-src 'self' 'unsafe-inline';
img-src 'self' data: https:;
font-src 'self' data:;
connect-src 'self' https://alphearea-b.onrender.com https://api.github.com;
frame-ancestors 'none';
base-uri 'self';
form-action 'self';
object-src 'none';
```

### 2. 404 –û—à–∏–±–∫–∏ –¥–ª—è —Ä–µ—Å—É—Ä—Å–æ–≤

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ —Å—Ç–∏–ª—è–º –∏ —Å–∫—Ä–∏–ø—Ç–∞–º –≤ HTML
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ favicon.ico –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–∞–ø–∫–µ
- ‚ùå Vite –Ω–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –ø—É—Ç–∏ –Ω–∞ GitHub Pages

**–†–µ—à–µ–Ω–∏–µ:**
‚úÖ –í—Å–µ –ø—É—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ (/src/main.jsx, /src/styles/style.css)
‚úÖ Favicon —Ä–∞–∑–º–µ—â–µ–Ω –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (/favicon.ico)
‚úÖ Vite.config.js –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è GitHub Pages (base: '/Alphearea')

### 3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç–æ–≤

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ–ø–∞—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
‚úÖ eval() - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
‚úÖ new Function() - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
‚úÖ setTimeout(string) - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
‚úÖ –í—Å–µ —à–∞–±–ª–æ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã
‚úÖ –ù–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã:**
- pointsService.js ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ
- usePoints.js ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ
- TestTaking.jsx ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ
- SmartEditor.jsx ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ
- –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–µ—Å—Ç–æ–≤ ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ

### 4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ Security Headers

–î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã:
- `X-UA-Compatible` - –∑–∞—â–∏—Ç–∞ –æ—Ç —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π IE
- `X-Frame-Options: DENY` - –∑–∞—â–∏—Ç–∞ –æ—Ç clickjacking
- `X-XSS-Protection` - –∑–∞—â–∏—Ç–∞ –æ—Ç XSS
- `Referrer-Policy: strict-origin-when-cross-origin` - –∫–æ–Ω—Ç—Ä–æ–ª—å referrer

---

## üìã –ì–æ—Ç–æ–≤—ã–π HEAD –¥–ª—è index.html

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç –≥–æ—Ç–æ–≤—ã–π <head> –≤ –≤–∞—à index.html:

```html
<!DOCTYPE html>
<html lang="ru">
  <head>
    <!-- –ë–∞–∑–æ–≤—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Content Security Policy –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ -->
    <meta http-equiv="Content-Security-Policy" content="
      default-src 'self';
      script-src 'self';
      style-src 'self' 'unsafe-inline';
      img-src 'self' data: https:;
      font-src 'self' data:;
      connect-src 'self' http://localhost:3002 http://localhost:5173 ws://localhost:5173 ws://localhost:3002 https://api.github.com;
      frame-ancestors 'none';
      base-uri 'self';
      form-action 'self';
      object-src 'none';">
    
    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ security headers -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="X-Frame-Options" content="DENY" />
    <meta http-equiv="X-XSS-Protection" content="1; mode=block" />
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />
    
    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ -->
    <title>Alphearea - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ–±—É—á–µ–Ω–∏—è</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    
    <!-- –°—Ç–∏–ª–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã -->
    <link rel="stylesheet" href="/src/styles/style.css">
    <script type="module" src="/src/main.jsx"></script>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
```

---

## üîç –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π –¥–∏—Ä–µ–∫—Ç–∏–≤—ã CSP

| –î–∏—Ä–µ–∫—Ç–∏–≤–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|----------|-----------|
| `default-src 'self'` | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –†–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ä–µ—Å—É—Ä—Å–æ–≤ —Ç–æ–ª—å–∫–æ —Å —Ç–µ–∫—É—â–µ–≥–æ –¥–æ–º–µ–Ω–∞ |
| `script-src 'self'` | –°–∫—Ä–∏–ø—Ç—ã | –¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã (–±–ª–æ–∫–∏—Ä—É–µ—Ç inline script) |
| `style-src 'self' 'unsafe-inline'` | –°—Ç–∏–ª–∏ | –õ–æ–∫–∞–ª—å–Ω—ã–µ + inline —Å—Ç–∏–ª–∏ (–Ω—É–∂–Ω–æ –¥–ª—è React) |
| `img-src 'self' data: https:` | –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | –õ–æ–∫–∞–ª—å–Ω—ã–µ, data URIs –∏ HTTPS –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| `font-src 'self' data:` | –®—Ä–∏—Ñ—Ç—ã | –õ–æ–∫–∞–ª—å–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã –∏ base64 encoded |
| `connect-src 'self' ...` | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è | fetch, WebSocket –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É API |
| `frame-ancestors 'none'` | –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ | –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –≤ iframe |
| `base-uri 'self'` | Base —Ç–µ–≥ | –ó–∞—â–∏—Ç–∞ –æ—Ç –∏–Ω—ä–µ–∫—Ü–∏–π –≤ base href |
| `form-action 'self'` | –§–æ—Ä–º—ã | –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º —Ç–æ–ª—å–∫–æ –Ω–∞ —Ç–µ–∫—É—â–∏–π –¥–æ–º–µ–Ω |
| `object-src 'none'` | –û–±—ä–µ–∫—Ç—ã | –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –æ–±—ä–µ–∫—Ç—ã (Flash, Java) |

---

## üöÄ –ö–∞–∫ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ GitHub Pages

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏—Ç–µ.config.js –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:
```javascript
base: process.env.NODE_ENV === 'production' ? '/Alphearea' : '/',
```

### 2. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
```bash
npm run build
```

### 3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ favicon.ico –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ:
```bash
ls -la /home/red/projects/Alphearea/favicon.ico
```

### 4. –í—Å–µ —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ GitHub:
- index.html ‚úì
- favicon.ico ‚úì
- dist/ –ø–∞–ø–∫–∞ ‚úì

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–∏—Å–∫–∞ –æ—à–∏–±–æ–∫

### –û—à–∏–±–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ - –í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–´:

- ‚úÖ CSP –∫–æ–Ω—Ñ–ª–∏–∫—Ç merge —É–¥–∞–ª–µ–Ω
- ‚úÖ CSP –¥–∏—Ä–µ–∫—Ç–∏–≤—ã –ø–µ—Ä–µ–ø–∏—Å–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ require-trusted-types-for —É–¥–∞–ª–µ–Ω
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ security headers
- ‚úÖ –í—Å–µ –ø—É—Ç–∏ –∫ —Ä–µ—Å—É—Ä—Å–∞–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### –û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ - –í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–´:

- ‚úÖ /src/main.jsx - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å
- ‚úÖ /src/styles/style.css - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å
- ‚úÖ /favicon.ico - –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ
- ‚úÖ Vite.config.js –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è GitHub Pages

### –û–ø–∞—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ - –ù–ï –ù–ê–ô–î–ï–ù–û:

- ‚úÖ eval() - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚úÖ new Function() - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚úÖ setTimeout(string) - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª–∏ |
|----------|--------|--------|
| CSP Policy | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –°—Ç—Ä–æ–≥–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –¥–ª—è GitHub Pages |
| Security Headers | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã | 5 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö headers |
| –û–ø–∞—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ | ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç | –í–µ—Å—å –∫–æ–¥ –±–µ–∑–æ–ø–∞—Å–µ–Ω |
| 404 –æ—à–∏–±–∫–∏ | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã | –í—Å–µ –ø—É—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã |
| –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å | ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–∞ | IE11+, –≤—Å–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã |

---

## üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
npm run dev
# –ë—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å CSP + localhost –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏
```

### –î–ª—è production (GitHub Pages):
```bash
npm run build
# –°–æ–∑–¥–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π build —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—É—Ç—è–º–∏
```

### –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏:
1. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+Del)
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (Ctrl+F5)
3. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Console ‚Üí —Å–º–æ—Ç—Ä–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab - –≤—Å–µ –ª–∏ —Ä–µ—Å—É—Ä—Å—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è?

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ –æ—à–∏–±–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ CSP –∏ 404 –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã. –°–∞–π—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ GitHub Pages –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏ –æ—à–∏–±–æ–∫.

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 28 –Ω–æ—è–±—Ä—è 2025 –≥.
**–í–µ—Ä—Å–∏—è:** 2.1 (Security Hardening Release)
