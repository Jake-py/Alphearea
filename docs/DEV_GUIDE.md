# Руководство разработчика

## Структура проекта

### Frontend
- **src/**: Исходный код frontend части приложения.
  - **components/**: Компоненты React.
  - **pages/**: Страницы приложения.
  - **styles/**: Стили и CSS файлы.
  - **config/**: Конфигурационные файлы.
  - **data/**: Данные и материалы.
  - **hooks/**: Кастомные хуки.
  - **utils/**: Утилиты и вспомогательные функции.

### Backend
- **back-end/**: Исходный код backend части приложения.
  - **server.js**: Основной файл сервера.
  - **config/**: Конфигурационные файлы.
  - **accounts/**: Данные пользователей.
  - **profiles/**: Профили пользователей.
  - **tests/**: Тесты и данные тестов.

### API Modules
- **apiMocks/**: Заглушки для API вызовов.
  - **openaiMock.js**: Заглушка для OpenAI API.
  - **apiDataStructure.js**: Структура данных для API.
- **apiReal/**: Реальные API вызовы (будет добавлено позже).
- **apiModule.js**: Модуль для переключения между тестовой и реальной средой.

## Как запускать локально

### Установка зависимостей
```bash
npm install
```

### Запуск локального dev-server
```bash
npm run dev
```

### Сборка проекта для production
```bash
npm run build
```

### Запуск сервера для production
```bash
serve -s dist -l 3000 --single
```

## Как подключать фейковые и реальные API

### Использование заглушек
По умолчанию проект использует заглушки для API вызовов. Для этого в файле `apiModule.js` используется следующая логика:

```javascript
const api = process.env.NODE_ENV === 'production' ? require('./apiReal') : require('./apiMocks');
```

### Переключение на реальные API
Для переключения на реальные API необходимо:
1. Создать директорию `apiReal` и добавить реальные API вызовы.
2. Установить переменную окружения `NODE_ENV` в значение `production`.

## Настройка переменных окружения

### Файл `.env.development`
В этом файле находятся переменные окружения для разработки:

```env
# Local development environment
VITE_API_BASE_URL=http://localhost:3002
OPENAI_API_KEY=ваш_ключ
OTHER_API_KEY=ключ_сервиса
```

### Файл `.env.production`
В этом файле находятся переменные окружения для production:

```env
# Production environment
VITE_API_BASE_URL=https://your-vps-domain.com
OPENAI_API_KEY=ваш_ключ
OTHER_API_KEY=ключ_сервиса
```

## Добавление новых функций и материалов

### Добавление нового материала
1. Создайте новый файл в директории `src/data/materials/`.
2. Добавьте материал в соответствующую категорию.
3. Обновите конфигурационные файлы, если необходимо.

### Добавление новой функции
1. Создайте новый компонент в директории `src/components/`.
2. Добавьте логику в соответствующий файл.
3. Обновите документацию.

## Тестирование

### Запуск тестов
```bash
npm test
```

### Проверка работы заглушек
```bash
node testApiMocks.js
```

## Развертывание

### Локальная сборка и тестирование
1. Клонируйте репозиторий.
2. Установите зависимости (`npm install`).
3. Запустите локальный dev-server (`npm run dev`).
4. Проверьте работу заглушек API.
5. Проверьте SPA-маршрутизацию и стили.

### Развертывание на VPS
1. Соберите проект для production (`npm run build`).
2. Загрузите файлы на сервер.
3. Запустите сервер (`serve -s dist -l 3000 --single`).
4. Настройте заголовки безопасности.

## Полезные команды

- **Запуск локального сервера**: `npm run dev`
- **Сборка проекта**: `npm run build`
- **Запуск тестов**: `npm test`
- **Проверка заглушек**: `node testApiMocks.js`

## Заключение
Эта документация поможет вам быстро разобраться в структуре проекта и начать работу. Если у вас есть вопросы или предложения, пожалуйста, свяжитесь с командой разработчиков.