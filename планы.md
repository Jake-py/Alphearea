План по замене локальных ссылок на Render
1. Определить, где используются локальные ссылки

Фронт: src/config/api.js, apiModule.js

Любые fetch или axios вызовы с http://localhost:PORT/...

Проверить страницы и компоненты: .jsx, .js, .ts, где есть запросы к API

2. Создать переменные окружения для фронта

В корне фронта: .env.production (или используйте Render Secrets)

VITE_API_URL=https://alphearea-b.onrender.com


Все вызовы API менять на:

fetch(`${import.meta.env.VITE_API_URL}/api/register`, {...})


или для axios:

axios.get(`${import.meta.env.VITE_API_URL}/users`)


Таким образом, локальная разработка может оставаться с localhost, а деплой использует Render.

3. Проверить бэк на корректный порт и CORS

В back-end/server.js:

const PORT = process.env.PORT || 3000;

app.listen(PORT, () => {
  console.log(`Server listening on port ${PORT}`);
});


Убедиться, что CORS разрешает фронт:

const corsOptions = {
  origin: "https://alphearea.onrender.com",
  credentials: true
};
app.use(cors(corsOptions));

4. CSP для фронта

В _headers или через meta-тег в HTML добавить:

Content-Security-Policy: default-src 'self'; 
script-src 'self' 'unsafe-inline' https://trusted.cdn.com; 
connect-src 'self' https://alphearea-b.onrender.com;


Проверить, что все fetch запросы к бэку проходят без блокировок.

5. Проверить MIME и статические файлы

Уже сделано, но важно, чтобы фронт видел статику на Render:

public/ и build/ корректно отдаются

Заголовки MIME для CSS/JS/Images настроены

6. Тестовая проверка

Деплой бэка (https://alphearea-b.onrender.com)

Проверить /api/ping или /api/status

Деплой фронта (https://alphearea.onrender.com)

Открыть DevTools → Network → убедиться, что все API-запросы идут на Render бэка

Проверить регистрацию, логин и остальные API-функции

7. Опционально: различие dev / prod

В фронте:

const API_URL = import.meta.env.DEV 
  ? "http://localhost:3000" 
  : import.meta.env.VITE_API_URL;


Это позволит запускать локально без редактирования кода